<html>
  <head>
<style>

body {
  height: 100%;
  width: 100%;
}

</style>
  </head>
  <body>
        <script>

          async function postData(red, blue) { 
            const colors = { r: red, g: 255, b: blue }
            const res = await fetch('/', {
              method: 'POST',
              body: JSON.stringify(colors),
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
            })
            const txt = await res.text()
            console.log(txt)
          }

          document.querySelector('body').addEventListener('mousemove', e => {
            const x = e.offsetX
            const y = e.offsetY
            const red = x % 255
            const blue = y % 255
            console.log(x, y, red, blue)
            postData(red, blue)
          })

          document.querySelector('body').addEventListener('touchmove', e => {
            const x = e.offsetX
            const y = e.offsetY
            const red = x % 255
            const blue = y % 255
            console.log(x, y, red, blue)
            postData(red, blue)
          })


        </script>
  </body>
</html>

